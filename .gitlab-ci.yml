stages:
- build

build:
  stage: build
  script:
  #    Handy for debugging
  - whoami
  - hostname
  - pwd
  - mvn -v
  #    Build via maven
  - mvn --batch-mode --errors -U clean deploy
  tags:
    - Java11
  # make sure only branches and not tags are deployed, otherwise tag is deployed with same version and release overwrites are not allowed in nexus
  only:
    - branches